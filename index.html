<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Decodificador de texto</title>
	<link rel="stylesheet" href = "reset.css">
	<link rel="stylesheet" href= "style-dec.css">
	<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

<body>
	<header>
		<h1><img src="logo.png" class="logo"></h1 alt="logo da página">
	</header>
	<main>
		<section class="areatextodigitado">
			<textarea cols="65" rows="18" placeholder="Digite seu texto" class="textodigitado"></textarea>
			<p class="info">Apenas letras minúsculas e sem acento.</p>
			<div class="bt">
				<input type="button" onclick= "btCriptografar()", onclick="exibeTexto()" class="botaocrip" value="Criptografar">
				<input type="button" onclick= "btDescriptografar()" class="botaodes" value="Descriptografar">
				<input type="button" onclick= "btLimpar()" class="botaolimpar" value="Limpar">
		    </div>
		</section>	
		<section Id="areatextoretorno">
			<textarea cols="30" rows="18"class="textoretorno"></textarea>
			<input type="button" onclick= "btCopiar()"class="botaocopiar" value="Copiar">
		</section>
		<section Id="areaimagem">
			<img src="kitten.png" class="imagem">
			<h2 class="texto1">Nenhuma mensagem encontrada</h2><br>
			<p class="texto2">Digite um texto que você deseja criptografar ou descriptografar.</p>
		</section>
	</main>
	<footer>
		<p class="copyright">&copy; Copyright by Vívian Alkmim - 2023</p>
	</footer>
</body>
<script>

	function exibeTexto(){
		document.getElementById("areatextoretorno").style.display="block";
		document.getElementById("areaimagem").style.display="none";
	}

	function exibeImagem(){
		document.getElementById("areaimagem").style.display="inline-block";
		document.getElementById("areatextoretorno").style.display="none";
	}

	//Caixas de texto//
	const areaTexto = document.querySelector(".textodigitado");
	const areaRetorno = document.querySelector(".textoretorno");

	//A letra "e" é convertida para "enter"
	//A letra "i" é convertida para "imes"
	//A letra "a" é convertida para "ai"
	//A letra "o" é convertida para "ober"
	//A letra "u" é convertida para "ufat"//


	function btCriptografar(){
		exibeTexto();
		const textoCript = criptografar(areaTexto.value);
		areaRetorno.value = textoCript;
		areaTexto.value = "";
	}
	
	function criptografar(stringCript){

		let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"], ["o", "ober"], ["u", "ufat"]];
		stringCript  = stringCript.toLowerCase();

		for(let i = 0; i < matrizCodigo.length; i++){
			if(stringCript.includes(matrizCodigo[i][0])){
				stringCript = stringCript.replaceAll(matrizCodigo[i][0],matrizCodigo[i][1]);
			}
		}

		return stringCript;
	}

	function btDescriptografar(){
		exibeTexto();
		const textoDescript = descriptografar(areaTexto.value);
		areaRetorno.value = textoDescript;
		areaTexto.value = "";
	}
	
	function descriptografar(stringDescript){

		let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"], ["o", "ober"], ["u", "ufat"]];
		stringDescript  = stringDescript.toLowerCase();

		for(let i = 0; i < matrizCodigo.length; i++){
			if(stringDescript.includes(matrizCodigo[i][1])){
				stringDescript = stringDescript.replaceAll(matrizCodigo[i][1],matrizCodigo[i][0]);
			}
		}

		return stringDescript;
	}

	function btLimpar(){
		areaTexto.value = "";
		exibeImagem();

	}

	function btCopiar(){
		let copiarTexto = document.querySelector(".textoretorno");
		copiarTexto.select();
		document.execCommand("copy");
		
	}
	

</script>


</html>
